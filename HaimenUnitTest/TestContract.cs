using System;
using Microsoft.VisualStudio.TestTools.UnitTesting;

using System.Collections.Generic;

using Haimen.Entity;

namespace HaimenUnitTest
{
    [TestClass]
    public class TestContract
    {
        //[TestMethod]
        //public void TestContractCRUD()
        //{
        //    List<Contract> list = Contract.Query("code = 'testcode'");
        //    foreach (Contract con in list)
        //    {
        //        con.Destory();
        //    }

        //    Contract c = new Contract();
        //    c.Code = "testcode";
        //    c.SignedDate = DateTime.Now;
        //    c.BeginDate = DateTime.Now;
        //    c.EndDate = DateTime.Now;

        //    for (int i = 0; i < 10; i++)
        //    {
        //        ContractDetail d = new ContractDetail();
        //        d.Money = i;
        //        d.PayDate = DateTime.Now;
        //        c.DetailList.Add(d);
        //    }

        //    Assert.IsTrue(c.Save());
        //    Assert.IsTrue(c.ID > 0);

        //    list = Contract.Query("code = 'testcode'");
        //    Assert.IsTrue(list.Count == 1);
        //    Assert.IsTrue(list[0].ID == c.ID);
        //    Assert.IsTrue(list[0].DetailList.Count == 10);


        //    c.Destory();

        //}
    }
}
